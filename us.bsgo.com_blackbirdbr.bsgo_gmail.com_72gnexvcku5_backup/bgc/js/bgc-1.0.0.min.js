!function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b&=c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),c)}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a,b){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a,b){!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastActive)&&this.element(a)},onclick:function(a,b){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){a.each(d.split(/\s/),function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return"radio"===c||"checkbox"===c?a('input[name="'+a(b).attr("name")+'"]:checked').val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(b){b=this.validationTargetFor(this.clean(b));var f,c=a(b).rules(),d=!1,e=this.elementValue(b);for(var g in c){var h={method:g,parameters:c[g]};try{if(f=a.validator.methods[g].call(this,e,b,h.parameters),"dependency-mismatch"===f){d=!0;continue}if(d=!1,"pending"===f)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!f)return this.formatAndAdd(b,h),!1}catch(i){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+h.method+"' method",i),i}}if(!d)return this.objectLength(c)&&this.successList.push(b),!0},customMetaMessage:function(b,c){if(a.metadata){var d=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return d&&d.messages&&d.messages[c]}},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find('[name="'+b+'"]')},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a,b){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b);for(var e in a.validator.methods){var f;"required"===e?(f=d.get(0).getAttribute(e),""===f&&(f=!0),f=!!f):f=d.attr(e),f?c[e]=f:d[0].getAttribute("type")===e&&(c[e]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength","min","max"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){b[this]&&(b[this]=[Number(b[this][0]),Number(b[this][1])])}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b.messages&&delete b.messages,b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,this.pending[c.name])return"pending";if(e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0||"true"===d;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]{2,}|[\x5d-\x7e]{2,}|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,})|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]{2,}|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,})|(([a-z]{2,}|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,})([a-z]{2,}|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,})*([a-z]{2,}|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,})))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10===0},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments)):c.apply(this,arguments)}}}(jQuery),function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(b,c){function d(b){return b=a.event.fix(b),b.type=c,a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(b,d,!0)},teardown:function(){this.removeEventListener(b,d,!0)},handler:function(b){var d=arguments;return d[0]=a.event.fix(b),d[0].type=c,a.event.handle.apply(this,d)}}}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(jQuery),window.log=function(){if(log.history=log.history||[],log.history.push(arguments),this.console){var b,a=arguments;a.callee=a.callee.caller,b=[].slice.call(a),"object"==typeof console.log?log.apply.call(console.log,console,b):console.log.apply(console,b)}},function(){window.jquery=jQuery.noConflict(!0),window.jquery(function(){var a=function(){};a.prototype.closeErrorOverlay=function(a){("undefined"==typeof a||a.currentTarget==a.target||"keypress"===a.type)&&(window.jquery(".bgcdw_errors_all_wrapper").fadeOut(),window.jquery(document).off("keypress"))},a.prototype.handleServerSideGeneratedErrors=function(){var a=window.jquery(".bgcdw_errors_all"),b="bgcdw_errors",c="div";window.jquery(".bgc_signup_container input,.bgcdw_login_container input#fb-connect-login-form-container input").each(function(){var a=window.jquery(this);a.next(c).hasClass(b)&&a.addClass(b)}),window.jquery("div.bgcdw_errors:not([generated])").each(function(){var a=window.jquery(this);a.attr("generated","true");var b=a.attr("for");if("undefined"==typeof b||b===!1){var c=a.prevAll("input").attr("id");a.attr("for",c)}}),1==window.jquery("ul",a).length&&window.jquery("ul li",a).last().css("margin-bottom","0");var d=this;window.jquery(".bgcdw_errors_all_close, .bgcdw_errors_all_wrapper").on("mouseup",d.closeErrorOverlay),window.jquery(document).on("keypress",function(a){(27==a.keyCode||13==a.keyCode)&&d.closeErrorOverlay(a)})},a.prototype.getErrorTranslation=function(a){return'<ul data-error="'+a+'"><li>'+window.jquery('.bgc_error_translations div[data-error-key="'+a+'"]').eq(0).text()+"</li></ul>"},a.prototype.addFormPlaceholders=function(a){var b=this.findForms(a);window.jquery("input",b).each(function(){var a=window.jquery(this).prev("label");window.jquery(this).attr("placeholder",a.text()),!1=="placeholder"in document.createElement("input")&&(!function(a){a.extend(a,{placeholder:{browser_supported:function(){return void 0!==this._supported?this._supported:this._supported=!!("placeholder"in a('<input type="text">')[0])},shim:function(b){var c={cls:"placeholder-fallback",selector:"input[placeholder], textarea[placeholder]"};return a.extend(c,b),!this.browser_supported()&&a(c.selector)._placeholder_shim(c)}}}),a.extend(a.fn,{_placeholder_shim:function(b){function c(b){var c=a(b).offsetParent().offset(),d=a(b).offset();return{top:d.top-c.top,left:d.left-c.left,width:a(b).width()}}function d(b){var e=b.data("target");void 0!==e&&(b.css(c(e)),a(window).one("resize",function(){d(b)}))}return this.each(function(){var e=a(this);if(e.is(":visible")){if(e.data("placeholder")){var f=e.data("placeholder");return f.css(c(e)),!0}var g={};e.is("textarea")||"auto"==e.css("height")||(g={lineHeight:e.css("height"),whiteSpace:"nowrap"});var h=a("<span />").text(e.attr("placeholder")).addClass(b.cls).css(a.extend({position:"absolute",display:"inline","float":"none",overflow:"hidden",textAlign:"left",cursor:"text",paddingTop:e.css("padding-top"),paddingRight:e.css("padding-right"),paddingBottom:e.css("padding-bottom"),paddingLeft:e.css("padding-left"),fontSize:e.css("font-size"),fontFamily:e.css("font-family"),fontStyle:e.css("font-style"),fontWeight:e.css("font-weight"),textTransform:e.css("text-transform"),backgroundColor:"transparent",zIndex:99},g)).css(c(this)).attr("for",this.id).data("target",e).click(function(){a(this).data("target").focus()}).insertBefore(this);e.data("placeholder",h).focus(function(){h.hide()}).blur(function(){h[e.val().length?"hide":"show"]()}).triggerHandler("blur"),a(window).one("resize",function(){d(h)})}})}})}(window.jquery),window.jquery.placeholder.shim())})},a.prototype.hideFormLabels=function(a){var b=this.findForms(a);b.addClass("no-labels"),window.jquery("label",b).hide(),window.jquery(".bgc_signup_form_legal label").show()},a.prototype.findForms=function(a){switch(a){case"login":return window.jquery(".bgcdw_login_container");case"signup":return window.jquery("#bgc_signup_container");case"signupshort":return window.jquery("#bgc_signup_short_container");default:return window.jquery(a)}},window.jquery.validator.addMethod("notEqualTo",function(a,b,c){return this.optional(b)||a!=window.jquery(c).val()},"Username must be different from password."),window.jquery.validator.addMethod("noSpecialChars",function(a,b){var c=/[ <>@+'&%,?]/i;return this.optional(b)||c.test(a)===!1?!0:!1}),window.jquery.validator.addMethod("validDate",function(a,b){var c=!1,e=a.split("."),f=parseInt(e[0],10),g=parseInt(e[1],10),h=parseInt(e[2],10);return c=g>0&&13>g&&h>0&&32768>h&&f>0&&f<=new Date(h,g,0).getDate(),c&&(isInFuture=new Date(h,g-1,f)>new Date),this.optional(b)||c&&!isInFuture}),window.jquery.validator.addMethod("emailBgc",function(a,b){var c="[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*",d="[a-zA-Z0-9\xfc\xe4\xf6\xdc\xc4\xd6]([-_\\.]?[a-zA-Z0-9\xfc\xe4\xf6\xdc\xc4\xd6])+\\.[a-zA-Z]{2,}",e=new RegExp("^"+c+"@"+d+"$");return this.optional(b)||e.test(a)}),window.jquery.validator.addMethod("notEqualToPlaceholder",function(a,b,c){var d=window.jquery(b);return d.val()!==d.attr("placeholder")}),a.prototype.initFormValidation=function(){var a=this;window.jquery(".bgcdw_date_fields select").on("change",function(b){a.copyDateToHiddenField();var c=window.jquery(".bgc_signup_form").first().validate().element("#birthdateValidate"),d=window.jquery("#birthdateValidate"),e=d.prevAll(".bgcdw_date_fields"),f="bgcdw_errors_date";!1===c?e.addClass(f):e.removeClass(f),window.jquery(".bgc_signup_form .bgcdw_date_fields").find(".bgcdw_errors").not('[generated="true"]').hide()}),window.jquery("#bgc_signup_container #bgc_signup_form_password").on("blur",function(a){setTimeout(function(){var a="#bgc_signup_form_passwordTwo";!1===window.jquery(document.activeElement).is(a)&&window.jquery(".bgc_signup_form").first().validate().element(a)})});var a=this;window.jquery(".bgcdw_login_form").each(function(){window.jquery(this).validate({errorClass:"bgcdw_errors",errorElement:"div",onkeyup:function(a){var b=window.jquery(a);b.hasClass(this.settings.errorClass)&&b.valid()},onfocusout:!1,rules:{username:{required:!0,notEqualToPlaceholder:!0},password:{required:!0,notEqualToPlaceholder:!0}},messages:{username:{required:a.getErrorTranslation("bgc.error.username_notGiven"),notEqualToPlaceholder:a.getErrorTranslation("bgc.error.username_notGiven")},password:{required:a.getErrorTranslation("bgc.error.password_notGiven"),notEqualToPlaceholder:a.getErrorTranslation("bgc.error.password_notGiven")}},submitHandler:function(a){window.jquery('.bgcdw_login_form_login[type="submit"]').attr("disabled","disabled"),a.submit()}})}),window.jquery(".bgc_signup_form").first().validate({errorClass:"bgcdw_errors",errorElement:"div",ignore:"",onkeyup:function(a){var b=window.jquery(a);b.hasClass(this.settings.errorClass)&&b.valid();var c=window.jquery("#bgc_signup_container #bgc_signup_form_passwordTwo");if("password"==b.attr("name")&&c.length>0){var d=c.rules();c.rules("remove"),c.val(""),c.valid(),c.rules("add",d)}},onfocusout:function(a){var b=this,c=window.jquery(a),d="#bgc_signup_form_password";"username"===c.attr("name")&&c.val()===window.jquery(d).val()&&""!==c.val()&&b.element(d),b.element(a)},rules:{username:{required:!0,noSpecialChars:!0},password:{required:!0,notEqualTo:"#bgc_signup_form_username"},passwordTwo:{equalTo:"#bgc_signup_form_password"},birthdateValidate:{validDate:!0},email:{email:!1,emailBgc:!0,required:!0},termsAndConditions:{required:!0},recaptcha_response_field:{required:!0}},messages:{username:{required:this.getErrorTranslation("bgc.error.username_notGiven"),minlength:this.getErrorTranslation("bgc.error.username_isTooShort"),noSpecialChars:this.getErrorTranslation("bgc.error.username_containsInvalidCharacters")},password:{required:this.getErrorTranslation("bgc.error.password_notGiven"),minlength:this.getErrorTranslation("bgc.error.password_isTooShort"),notEqualTo:this.getErrorTranslation("bgc.error.password_matchesUsername")},passwordTwo:{equalTo:this.getErrorTranslation("bgc.error.password_repeatDoesNotMatch")},email:{required:this.getErrorTranslation("bgc.error.email_notGiven"),emailBgc:this.getErrorTranslation("bgc.error.email_invalidAddress")},birthdateValidate:{validDate:this.getErrorTranslation("bgc.error.birthday_invalidDate")},termsAndConditions:{required:this.getErrorTranslation("bgc.error.termsAndConditions_notAccepted")},recaptcha_response_field:{required:this.getErrorTranslation("bgc.error.captcha_incorrect")}},submitHandler:function(a){window.jquery('.bgc_signup_form_register[type="submit"]').attr("disabled","disabled"),a.submit()}}),window.jquery(".bgc_fbSignup_form").first().validate({errorClass:"bgcdw_errors",errorElement:"div",ignore:"",onkeyup:function(a){var b=window.jquery(a);b.hasClass(this.settings.errorClass)&&b.valid()},rules:{username:{required:!0,minlength:4,noSpecialChars:!0}},messages:{username:{required:this.getErrorTranslation("bgc.error.username_notGiven"),minlength:this.getErrorTranslation("bgc.error.username_isTooShort"),noSpecialChars:this.getErrorTranslation("bgc.error.username_containsInvalidCharacters")}},submitHandler:function(a){window.jquery('.bgc_fbSignup_form_signup[type="submit"]').attr("disabled","disabled"),a.submit()}});var a=this;window.jquery(".bgc_fbConnect_form").each(function(){window.jquery(this).validate({errorClass:"bgcdw_errors",errorElement:"div",onkeyup:function(a){var b=window.jquery(a);b.hasClass(this.settings.errorClass)&&b.valid()},rules:{username:{required:!0,notEqualToPlaceholder:!0},password:{required:!0,notEqualToPlaceholder:!0}},messages:{username:{required:a.getErrorTranslation("bgc.error.username_notGiven"),notEqualToPlaceholder:a.getErrorTranslation("bgc.error.username_notGiven")},password:{required:a.getErrorTranslation("bgc.error.password_notGiven"),notEqualToPlaceholder:a.getErrorTranslation("bgc.error.password_notGiven")}},submitHandler:function(a){window.jquery('.bgc_fbConnect_form_connect[type="submit"]').attr("disabled","disabled"),a.submit()}})})},a.prototype.copyDateToHiddenField=function(){var a=window.jquery('select[name="birthdateDay"]').val()+"."+window.jquery('select[name="birthdateMonth"]').val()+"."+window.jquery('select[name="birthdateYear"]').val();window.jquery("#birthdateValidate").val(a)},a.prototype.enhanceFacebookForms=function(){var a=this;this.activateForm=function(b){$formActive=window.jquery(b),$formSiblings=$formActive.siblings(),a.hideForms($formSiblings),a.showForm($formActive)},this.showForm=function(a){a.removeClass("bgc_fbconnect_disabled"),a.children().not("span, div.bgcdw_errors ul").animate({opacity:1},200),window.jquery('input[type="submit"]',a).fadeIn()},this.hideForms=function(a){
  a.addClass("bgc_fbconnect_disabled"),a.children().not("span, div.bgcdw_errors ul").animate({opacity:.3},200),window.jquery('input[type="submit"]',a).fadeOut(),window.jquery('input[type="password"]',a).val(""),window.jquery('input[type="text"]',a).val(""),a.find("form").length>0&&(a.find("form").validate().resetForm(),a.find(".bgcdw_errors_flash").remove())};var a=this;window.jquery('.bgc_fbconnect_link div[class^="bgcdw_errors"]').length>0&&a.activateForm(window.jquery(".bgc_fbconnect_link")),window.jquery('.bgc_fbconnect_signup div[class^="bgcdw_errors"]').length>0&&a.activateForm(window.jquery(".bgc_fbconnect_signup")),window.jquery("#bgc_fbconnect_wrapper .bgcdw_errors_flash").each(function(){var a=window.jquery(this).parentsUntil("#bgc_fbconnect_wrapper").last();window.jquery(this).appendTo(a)}),window.jquery("#bgc_fbconnect_wrapper > div,#bgc_fbconnect_wrapper input").on("click focus",function(b){"click"===b.type?a.activateForm(window.jquery(this)):a.activateForm(window.jquery(this).parentsUntil("#bgc_fbconnect_wrapper").last())})},a.prototype.preventMultipleFbConnectClicks=function(){window.jquery(".bgc_fbConnect_container_link .bgc_fbConnect").click(function(){var a=window.jquery(this).attr("href");window.jquery(this).attr("href","javascript: void(0)"),window.location=a})},a.prototype.configuration={config:[],getConfig:function(a){return window.jquery("#bgc_sasform_config_"+a).attr("value")},setConfig:function(a,b){window.jquery("#bgc_sasform_config_"+a).val(b)},splitSelectors:function(a){return a.split(/[ ,]+/)},load:function(){var a=[];return window.jquery("input","#bgc_sasform_config").each(function(){var b=window.jquery(this),c=b.val();"true"===c?c=!0:"false"===c&&(c=!1),a[b.attr("name")]=c}),a}};var b=new a;b.initFormValidation(),b.copyDateToHiddenField();var c=b.configuration.load();if("hidelabels"in c){var d=b.configuration.splitSelectors(c.hidelabels);for(i in d)b.hideFormLabels(d[i])}if("placeholder"in c){var e=b.configuration.splitSelectors(c.placeholder);for(i in e)b.addFormPlaceholders(e[i])}if("errors-login"in c&&"popup"===c["errors-login"]){var f=window.jquery(".bgcdw_login_container .bgcdw_errors_flash");f.length>0&&(f.hide(),window.jquery(".bgcdw_errors_all_wrapper").show())}if("errors-signup"in c&&"popup"===c["errors-signup"]){var g=window.jquery("#bgc_signup_container .bgcdw_errors_flash, #bgc_signup_container div.bgcdw_errors");g.length>0&&(g.hide(),window.jquery(".bgcdw_errors_all_wrapper").show())}if("errors-facebook"in c&&"popup"===c["errors-facebook"]){var h=window.jquery(".bgc_fbconnect_link .bgcdw_errors_flash, .bgc_fbconnect_signup div.bgcdw_errors");h.length>0&&(h.hide(),window.jquery(".bgcdw_errors_all_wrapper").show())}b.handleServerSideGeneratedErrors(),b.preventMultipleFbConnectClicks(),b.enhanceFacebookForms()})}();